// I encountered print styling issues where an H2 was "floating" to the right of marginalia
// This appeared to resolve that issue
h1, h2, h3, h4, h5 { clear: left; }

// Responsible for common rendering behavior of the marginalia. When tinkering
// with this file, remember to review both the narrow version and the print version
.sidenote, .marginnote {
  float: right; clear: right; margin-right: -60%; width: 50%; margin: 0 0 1.96rem 0; font-size: 1.0rem; line-height: 1.96; vertical-align: baseline; position: relative;
  &.margin-table {
    margin-right: 11%; width: 29%;
    .table-wrapper {
      width: 100%;
      table { width: 100%; }
    }
  }
  code { font-size: 1rem; }
}

 //added to allow for the fact that lists are indented and marginnotes and sidenotes push to right
li {
  .sidenote, .marginnote { margin-right: -80%; }
}

blockquote {
  .sidenote, .marginnote { margin-right: -79% }
}

.sidenote-number { counter-increment: sidenote-counter; }

.sidenote-number:after, .sidenote:before { content: counter(sidenote-counter) ")\000a0"; font-family: $counter-font; color: $contrast-color; position: relative; vertical-align: baseline; }

.sidenote-number:after { content: counter(sidenote-counter); font-size: 1rem; top: -0.5rem; left: 0.1rem; }

// TODO: Must figure this out. I don't want to hide marginalia but instead
//       render it similar to the print style
.full-width { .sidenote, .sidenote-number, .marginnote { display: none; } }

input.margin-toggle { display: none; }

label.sidenote-number { display: inline; }

label.margin-toggle:not(.sidenote-number) { display: none; }

@media screen and (max-width: 760px) {
  .marginnote.margin-table {
    display: block; float: left; left: 1rem; clear: both; width: 95%; margin: 1rem 2.5%; vertical-align: baseline; position: relative;
    .table-wrapper {
      width: 92%;
      table {
        width: 95%;
      }
    }
  }
}
